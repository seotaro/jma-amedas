(this["webpackJsonpjma-amedas"]=this["webpackJsonpjma-amedas"]||[]).push([[0],{114:function(n,t){},149:function(n,t,e){},152:function(n,t){},158:function(n,t,e){"use strict";e.r(t);var a=e(27),i=e.n(a),r=e(126),o=e.n(r),c=(e(149),e(67)),u=e.n(c),s=e(87),l=e(101),m=e(172),p=e(135),h=e(176),d=e(136),f=e(174),w=e(111),j=e.n(w),b=e(127),x=e.n(b),g="https://www.jma.go.jp/bosai/amedas/const/amedastable.json",v="https://www.jma.go.jp/bosai/amedas/data/latest_time.txt",y=function(n){return"https://www.jma.go.jp/bosai/amedas/data/map/".concat(x()(n).format("YYYYMMDDHHmmss"),".json")},O=function(n,t,e){return n?t*(1-n)+e*n:null};function k(n,t,e){360<=n&&(n=0);var a=Math.floor(n/60)%6,i=n/60-a,r=e*(1-t),o=e*(1-t*i),c=e*(1-t*(1-i)),u=[0,0,0];switch(a){case 0:u=[e,c,r];break;case 1:u=[o,e,r];break;case 2:u=[r,e,c];break;case 3:u=[r,o,e];break;case 4:u=[c,r,e];break;case 5:u=[e,r,o]}return u.map((function(n){return Math.floor(255*n)}))}function F(){return D.apply(this,arguments)}function D(){return(D=Object(s.a)(u.a.mark((function n(){return u.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.abrupt("return",j()(v).then((function(n){return n.text()})).then((function(n){return new Date(n)})).catch((function(n){console.error(n)})));case 1:case"end":return n.stop()}}),n)})))).apply(this,arguments)}function S(n){return C.apply(this,arguments)}function C(){return(C=Object(s.a)(u.a.mark((function n(t){var e,a,i,r,o;return u.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return e=[g,y(t)],n.next=3,Promise.all(e.map((function(n){return j()(n).then((function(n){return n.text()})).then((function(n){return JSON.parse(n)})).catch((function(n){console.error(n)}))})));case 3:return a=n.sent,i=Object(l.a)(a,2),r=i[0],o=i[1],n.abrupt("return",Object.keys(o).map((function(n){var t=r[n],e=o[n];return{code:n,name:t.kjName,coordinates:[t.lon[0]+t.lon[1]/60,t.lat[0]+t.lat[1]/60],precipitation10m:e.precipitation10m&&0===e.precipitation10m[1]?e.precipitation10m[0]:null,precipitation1h:e.precipitation1h&&0===e.precipitation1h[1]?e.precipitation1h[0]:null,precipitation3h:e.precipitation3h&&0===e.precipitation3h[1]?e.precipitation3h[0]:null,precipitation24h:e.precipitation24h&&0===e.precipitation24h[1]?e.precipitation24h[0]:null,wind:e.wind&&e.windDirection&&0===e.wind[1]&&0===e.windDirection[1]?[e.wind[0],e.windDirection[0]]:null,temp:e.temp&&0===e.temp[1]?e.temp[0]:null,sun1h:e.sun1h&&0===e.sun1h[1]?e.sun1h[0]:null,snow:e.snow&&0===e.snow[1]?e.snow[0]:null,snow6h:e.snow6h&&0===e.snow6h[1]?e.snow6h[0]:null,snow12h:e.snow12h&&0===e.snow12h[1]?e.snow12h[0]:null,snow24h:e.snow24h&&0===e.snow24h[1]?e.snow24h[0]:null,humidity:e.humidity&&0===e.humidity[1]?e.humidity[0]:null}})));case 8:case"end":return n.stop()}}),n)})))).apply(this,arguments)}var M=e(52),P={longitude:136,latitude:35,zoom:5,maxZoom:20,pitch:45,bearing:0},z={precipitation10m:{name:"10\u5206\u9593\u964d\u6c34\u91cf",min:0,max:100},precipitation1h:{name:"1\u6642\u9593\u964d\u6c34\u91cf",min:0,max:80,colorFunc:function(n){return k(O(n,240,0),1,1)}},precipitation3h:{name:"3\u6642\u9593\u964d\u6c34\u91cf",min:0,max:100},precipitation24h:{name:"24\u6642\u9593\u964d\u6c34\u91cf",min:0,max:100},wind:{name:"\u98a8\u5411\u30fb\u98a8\u901f",min:0,max:100},temp:{name:"\u6c17\u6e29",min:-10,max:30,colorFunc:function(n){return k(O(n,240,0),1,1)}},sun1h:{name:"\u65e5\u7167\u6642\u9593",min:0,max:100},snow:{name:"\u7a4d\u96ea\u6df1",min:0,max:100},snow6h:{name:"6\u6642\u9593\u964d\u96ea\u91cf",min:0,max:100},snow12h:{name:"12\u6642\u9593\u964d\u96ea\u91cf",min:0,max:100},snow24h:{name:"24\u6642\u9593\u964d\u96ea\u91cf",min:0,max:100},humidity:{name:"\u6e7f\u5ea6",min:0,max:100,colorFunc:function(n){return k(O(n,240,0),1,1)}}};var Y=function(){var n=Object(a.useState)(null),t=Object(l.a)(n,2),e=t[0],i=t[1];return Object(a.useEffect)((function(){Object(s.a)(u.a.mark((function n(){var t,e,a;return u.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,F();case 2:return t=n.sent,n.next=5,S(t);case 5:e=n.sent,a=function(n){var t=e.map((function(n){var t,e,a,i=(t=n.temp,e=z.temp.min,a=z.temp.max,t?(t-e)/(a-e):null);return{code:n.code,name:n.name,coordinates:n.coordinates,normlizedValue:i,value:n.temp,color:i?z.temp.colorFunc(i):[0,0,0,32]}}));return Object(M.jsx)(h.a,{id:"gridcelllayer",data:t,pickable:!0,cellSize:5e3,extruded:!0,elevationScale:5e4,getPosition:function(n){return n.coordinates},getFillColor:function(n){return n.color},getElevation:function(n){return n.normlizedValue}})}(),i(a);case 8:case"end":return n.stop()}}),n)})))()}),[]),Object(M.jsxs)(m.a,{initialViewState:P,controller:!0,getTooltip:function(n){var t=n.object;return t&&"".concat(t.name,"\uff08").concat(t.code,"\uff09: ").concat(t.value)},children:[Object(M.jsx)(d.a,{id:"background-layer",data:[[[-180,90],[0,90],[180,90],[180,-90],[0,-90],[-180,-90]]],getPolygon:function(n){return n},filled:!0,getFillColor:[127,127,127]}),Object(M.jsx)(f.a,{id:"map-layer",data:"https://d2ad6b4ur7yvpq.cloudfront.net/naturalearth-3.3.0/ne_50m_land.geojson",filled:!0,getFillColor:[64,64,64]}),e,Object(M.jsx)(p.a,{id:"map",width:"100%",controller:!0,repeat:!0})]})},E=function(n){n&&n instanceof Function&&e.e(3).then(e.bind(null,178)).then((function(t){var e=t.getCLS,a=t.getFID,i=t.getFCP,r=t.getLCP,o=t.getTTFB;e(n),a(n),i(n),r(n),o(n)}))};o.a.render(Object(M.jsx)(i.a.StrictMode,{children:Object(M.jsx)(Y,{})}),document.getElementById("root")),E()}},[[158,1,2]]]);